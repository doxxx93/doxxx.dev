# kube-rs 문서 스타일 가이드

> 이 파일은 문서 작성 시 일관성을 유지하기 위한 내부 규칙입니다.
> docs에 포함되지 않습니다 (dotfile).

---

## 문서의 성격

- **심층 가이드**: 단순 사용법(how-to)이 아닌, 내부 구현까지 추적하는 문서
- **레퍼런스 겸 학습서**: 처음부터 읽어도 되고, 필요한 부분만 찾아봐도 되는 구조
- kube.rs 공식 문서와의 차별점: "어떻게 쓰는가"뿐 아니라 **"내부에서 어떻게 동작하는가"**

## 대상 독자

- kube를 이미 쓰고 있지만 제대로 이해하고 싶은 개발자
- Rust 기본 문법은 아는 상태 (trait, generic, async/await)
- Kubernetes 기본 개념은 아는 상태 (Pod, Deployment, CRD, watch)

## 문체

- **합니다체** 사용
  - ✓ "watcher는 state machine 기반으로 동작합니다."
  - ✓ "이 패턴은 무한 루프를 유발할 수 있습니다."
  - ✗ "watcher는 상태 머신이다." (서술체)
  - ✗ "watcher는 상태 머신이에요." (해요체)
- 간결하게. 같은 내용을 반복하지 않습니다.
- 주관적 표현은 최소화하고, 사실과 코드에 기반합니다.

## 용어

기본 원칙: **한국어 개발자가 실제로 쓰는 표현**을 따른다. 어색한 번역체보다 영어 원어가 낫다.

### 영어 유지 (번역하지 않음)

| 영어 | ✗ 쓰지 않는 표현 | 비고 |
|------|------------------|------|
| watcher, reflector, reconciler, Store, Controller | — | kube API 이름 |
| watch | 감시 | API 메서드명. "watch 범위", "watch 연결" |
| cleanup | 정리 작업 | `Event::Cleanup`이 API 이름 |
| state machine | 상태 머신 | — |
| GC (garbage collection) | 가비지 컬렉션 | "자동 GC" |
| serialization / deserialization | 직렬화 / 역직렬화 | — |
| concurrency | 동시성 | "concurrency 제어" |
| struct, enum | 구조체, 열거형 | Rust 문맥 |
| trait, blanket impl | — | — |
| stream, backoff, debounce | — | — |

### 한국어 유지 (자연스러운 경우)

크레이트, 의존성, 타입, 비동기, 병합, 캐시, 스트림(문맥에 따라)

### 혼용 규칙

- 첫 등장에서 병기: "소유 참조(ownerReferences)"
- 이후로는 영어만 사용해도 됨

## 구조 규칙

- 각 페이지 첫 문단: **이 페이지가 무엇을 다루는지** 한두 문장으로 명시
- 코드 블록: 실제 kube-rs 소스 코드 구조 인용 + 사용 예시 병행
- mermaid 다이어그램: 상태 머신, 데이터 흐름 등 시각화가 도움되는 곳에 사용
- :::warning / :::tip: 흔한 실수, 알려진 함정에 사용
- 페이지 간 링크: 관련 개념이 다른 페이지에 있으면 명시적으로 링크

## 코드 예시 규칙

- 실제 동작하는 코드 우선 (복사-붙여넣기로 실행 가능한 수준)
- kube-rs 내부 구현 인용 시: struct 정의, 핵심 로직 발췌 (전체 복사 아님)
- 코드 블록에 `title` 어트리뷰트 활용: ```rust title="kube-runtime/src/watcher.rs"

## 주의사항 표기

- ⚠️ 이모지는 HTML 주석(초안)에서만 사용, 본문에서는 Docusaurus admonition 사용:
  ```
  :::warning[흔한 실수]
  backoff 없이 watcher를 사용하면 첫 에러에 스트림이 종료됩니다.
  :::
  ```
